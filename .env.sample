# .env.sample - Environment variables for Notices Video Automation

# --- General Video Configuration ---
# Duration each image is displayed in seconds (default: 10)
IMAGE_DURATION="10"

# Target duration of the final video in seconds (default: 600 for 10 minutes)
TARGET_VIDEO_DURATION="600"

# Cron schedule (default: Friday 1am)
# CRON_SCHEDULE="0 1 * * 5"
 
# --- Timer Overlay Configuration ---
# Set to 'true' to enable a countdown timer overlay in the final minutes
ENABLE_TIMER="false"
# Number of minutes before the end of the video to start the countdown
TIMER_MINUTES="5"
# Position of the timer: "top-middle", "bottom-right", etc.
TIMER_POSITION="top-middle"

# --- Source Selection ---
# Where to get images from: "local" or "nextcloud"
# If not specified, automatically uses "nextcloud" when NEXTCLOUD_IMAGE_PATH is set, otherwise "local"
# IMAGE_SOURCE="nextcloud"

# Where to get background music from: "local" or "nextcloud"  
# If not specified, automatically uses "nextcloud" when NEXTCLOUD_IMAGE_PATH is set, otherwise "local"
# MUSIC_SOURCE="nextcloud"

# --- Local File Paths (for IMAGE_SOURCE="local" or MUSIC_SOURCE="local") ---
# When using local files, mount your folders to these container paths:
#   Images: -v /your/images:/app/images
#   Music:  -v /your/music:/app/music
#   Output: -v /your/output:/app/output
# No configuration needed - paths are hardcoded in the container

# --- Nextcloud Integration Configuration ---
# These variables are used for retrieving images/music from and uploading videos to Nextcloud

# Base URL of your Nextcloud instance (e.g., https://your.nextcloud.com/)
NEXTCLOUD_URL="https://cloud.example.com/"

# Your Nextcloud username
NEXTCLOUD_USERNAME="your_username"

# Your Nextcloud app password or regular password. App passwords are recommended for security.
NEXTCLOUD_PASSWORD="your_app_password"

# Path within Nextcloud to the folder containing the source images (e.g., 'Photos/Slideshows')
# If this is set, IMAGE_FOLDER will be ignored.
NEXTCLOUD_IMAGE_PATH="Uploads/Notices Slides"

# Path within Nextcloud where the generated video should be uploaded (e.g., 'Videos/output.mp4')
NEXTCLOUD_UPLOAD_PATH="Videos/GeneratedSlideshows/latest_slideshow.mp4"

# Set to 'true' to disable SSL certificate verification. Use with caution.
# Defaults to 'false' if not set.
NEXTCLOUD_INSECURE_SSL="false"

# --- Optional Video Append Configuration ---
# Path to a video file to append to the end of the slideshow
# Can be a local path (if APPEND_VIDEO_SOURCE="local") or Nextcloud path (if "nextcloud")
APPEND_VIDEO_PATH=
# Source of the append video: "local" or "nextcloud" (auto-detects based on Nextcloud config if not set)
# APPEND_VIDEO_SOURCE="nextcloud"

# --- Background Music Configuration ---
# Path to folder containing MP3 files for background music
# For Nextcloud: specify the Nextcloud path (e.g., "Uploads/Music")
# For local: mount your music folder to /app/music
MUSIC_FOLDER="Uploads/Music"
# Music source is auto-detected based on IMAGE_SOURCE, or set explicitly
# MUSIC_SOURCE="nextcloud"

# --- Matrix Notification Configuration ---
# Your Matrix homeserver URL
MATRIX_HOMESERVER="https://matrix.org"
# Your Matrix access token
MATRIX_ACCESS_TOKEN="your_access_token"
# The ID of the room to send notifications to
MATRIX_ROOM_ID="!your_room_id:matrix.org"
# Your Matrix user ID (required for matrix-nio bot)
MATRIX_USER_ID="@your_bot_user:matrix.org"

# --- Health Check & Alerting Configuration (Optional) ---
# Set to 'true' to enable the local heartbeat file (/tmp/heartbeat) for Podman healthchecks
ENABLE_HEARTBEAT="false"

# Master switch for ntfy notifications
ENABLE_NTFY="false"

# ntfy.sh server URL (e.g., https://ntfy.sh or your self-hosted instance)
# Notifications are only sent if both NTFY_URL and NTFY_TOPIC are configured.
NTFY_URL=
# ntfy topic name to publish alerts to
NTFY_TOPIC=
# Optional ntfy access token for authenticated servers
NTFY_TOKEN=
